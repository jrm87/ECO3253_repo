<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Project 1 | Economics of Public and Social Issues</title>
  <meta name="description" content="This is the website for the course ECO 3253 at UTSA, taught in the Fall of 2022." />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Project 1 | Economics of Public and Social Issues" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is the website for the course ECO 3253 at UTSA, taught in the Fall of 2022." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Project 1 | Economics of Public and Social Issues" />
  
  <meta name="twitter:description" content="This is the website for the course ECO 3253 at UTSA, taught in the Fall of 2022." />
  

<meta name="author" content="Jonathan Moreno-Medina" />


<meta name="date" content="2022-08-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="appendixA.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Eco of Public and Social Issues (ECO 3253), Fall 2022</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#aboutme"><i class="fa fa-check"></i>About me</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#organization-of-this-site"><i class="fa fa-check"></i>Organization of this site</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#data-driven-course"><i class="fa fa-check"></i>Data-driven course</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#topics-to-be-covered"><i class="fa fa-check"></i>Topics to be covered</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#statistical-tools"><i class="fa fa-check"></i>Statistical tools</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#economic-concepts"><i class="fa fa-check"></i>Economic Concepts</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#projects"><i class="fa fa-check"></i>Projects</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#faqs"><i class="fa fa-check"></i>FAQs</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="schedule.html"><a href="schedule.html"><i class="fa fa-check"></i>Updated Schedule</a></li>
<li class="part"><span><b>I Ec. &amp; Soc. Issues</b></span></li>
<li class="chapter" data-level="1" data-path="upward-mobility-in-the-us.html"><a href="upward-mobility-in-the-us.html"><i class="fa fa-check"></i><b>1</b> Upward Mobility in the US</a>
<ul>
<li class="chapter" data-level="1.1" data-path="upward-mobility-in-the-us.html"><a href="upward-mobility-in-the-us.html#parental-and-children-income-rank"><i class="fa fa-check"></i><b>1.1</b> Parental and children income rank</a></li>
<li class="chapter" data-level="1.2" data-path="upward-mobility-in-the-us.html"><a href="upward-mobility-in-the-us.html#interpreting-the-regression-line"><i class="fa fa-check"></i><b>1.2</b> Interpreting the regression line</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="upward-mobility-in-the-us.html"><a href="upward-mobility-in-the-us.html#percentiles"><i class="fa fa-check"></i><b>1.2.1</b> Percentiles</a></li>
<li class="chapter" data-level="1.2.2" data-path="upward-mobility-in-the-us.html"><a href="upward-mobility-in-the-us.html#what-is-a-tract"><i class="fa fa-check"></i><b>1.2.2</b> What is a tract?</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="upward-mobility-in-the-us.html"><a href="upward-mobility-in-the-us.html#geographic-variation-in-upward-mobility-by-commuting-zone"><i class="fa fa-check"></i><b>1.3</b> Geographic Variation in Upward Mobility by Commuting Zone</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="upward-mobility-in-the-us.html"><a href="upward-mobility-in-the-us.html#adjustments-for-cost-of-living"><i class="fa fa-check"></i><b>1.3.1</b> Adjustments for cost of living</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="upward-mobility-in-the-us.html"><a href="upward-mobility-in-the-us.html#local-area-variation-in-upward-mobility-los-angeles-ca"><i class="fa fa-check"></i><b>1.4</b> Local Area Variation in Upward Mobility: Los Angeles, CA</a></li>
</ul></li>
<li class="part"><span><b>II Tools</b></span></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Very Brief Intro to Data in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#why-r-again"><i class="fa fa-check"></i><b>2.1</b> Why R again?</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="getting-started.html"><a href="getting-started.html#why-are-we-learning-r-i-wanted-to-learn-about-economics-of-public-and-social-issues"><i class="fa fa-check"></i><b>2.1.1</b> Why are we learning R? I wanted to learn about economics of public and social issues…</a></li>
<li class="chapter" data-level="2.1.2" data-path="getting-started.html"><a href="getting-started.html#ok-but-why-r"><i class="fa fa-check"></i><b>2.1.2</b> Ok, but why R?</a></li>
<li class="chapter" data-level="2.1.3" data-path="getting-started.html"><a href="getting-started.html#added-benefits-of-learning-r"><i class="fa fa-check"></i><b>2.1.3</b> Added benefits of learning R</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#key-concepts-before-we-start"><i class="fa fa-check"></i><b>2.2</b> Key concepts before we start:</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="getting-started.html"><a href="getting-started.html#r-rstudio"><i class="fa fa-check"></i><b>2.2.1</b> What are R and RStudio?</a></li>
<li class="chapter" data-level="2.2.2" data-path="getting-started.html"><a href="getting-started.html#r-and-rstudio-in-your-computer-or-in-the-cloud"><i class="fa fa-check"></i><b>2.2.2</b> R and RStudio: In your computer or in the cloud?</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="getting-started.html"><a href="getting-started.html#lets-open-r"><i class="fa fa-check"></i><b>2.3</b> Let’s open R!</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="getting-started.html"><a href="getting-started.html#rstudio-in-the-cloud"><i class="fa fa-check"></i><b>2.3.1</b> RStudio in the cloud</a></li>
<li class="chapter" data-level="2.3.2" data-path="getting-started.html"><a href="getting-started.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>2.3.2</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="getting-started.html"><a href="getting-started.html#code"><i class="fa fa-check"></i><b>2.4</b> How do I code in R?</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="getting-started.html"><a href="getting-started.html#programming-concepts"><i class="fa fa-check"></i><b>2.4.1</b> Basic programming concepts and terminology</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="getting-started.html"><a href="getting-started.html#in-class-exercise"><i class="fa fa-check"></i><b>2.5</b> In Class Exercise</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="getting-started.html"><a href="getting-started.html#errors-warnings-and-messages"><i class="fa fa-check"></i><b>2.5.1</b> Errors, warnings, and messages</a></li>
<li class="chapter" data-level="2.5.2" data-path="getting-started.html"><a href="getting-started.html#tips-on-learning-to-code"><i class="fa fa-check"></i><b>2.5.2</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="getting-started.html"><a href="getting-started.html#packages"><i class="fa fa-check"></i><b>2.6</b> What are R packages?</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="getting-started.html"><a href="getting-started.html#package-installation"><i class="fa fa-check"></i><b>2.6.1</b> Package installation</a></li>
<li class="chapter" data-level="2.6.2" data-path="getting-started.html"><a href="getting-started.html#package-loading"><i class="fa fa-check"></i><b>2.6.2</b> Package loading</a></li>
<li class="chapter" data-level="2.6.3" data-path="getting-started.html"><a href="getting-started.html#package-use"><i class="fa fa-check"></i><b>2.6.3</b> Package use</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="getting-started.html"><a href="getting-started.html#hands-on-exercise"><i class="fa fa-check"></i><b>2.7</b> Hands-on exercise!</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="getting-started.html"><a href="getting-started.html#mobilitydata"><i class="fa fa-check"></i><b>2.7.1</b> Explore your first dataset: economic mobility in the US</a></li>
<li class="chapter" data-level="2.7.2" data-path="getting-started.html"><a href="getting-started.html#economic-mobility-data"><i class="fa fa-check"></i><b>2.7.2</b> Economic mobility data</a></li>
<li class="chapter" data-level="2.7.3" data-path="getting-started.html"><a href="getting-started.html#atlas-data-frame"><i class="fa fa-check"></i><b>2.7.3</b> <code>atlas</code> data frame</a></li>
<li class="chapter" data-level="2.7.4" data-path="getting-started.html"><a href="getting-started.html#exploredataframes"><i class="fa fa-check"></i><b>2.7.4</b> Exploring data frames</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="getting-started.html"><a href="getting-started.html#conclusion"><i class="fa fa-check"></i><b>2.8</b> Conclusion</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="getting-started.html"><a href="getting-started.html#additional-resources"><i class="fa fa-check"></i><b>2.8.1</b> Additional resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="viz.html"><a href="viz.html"><i class="fa fa-check"></i><b>3</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="viz.html"><a href="viz.html#needed-data-and-packages"><i class="fa fa-check"></i>Needed data and packages</a></li>
<li class="chapter" data-level="3.1" data-path="viz.html"><a href="viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>3.1</b> The Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="viz.html"><a href="viz.html#components-of-the-grammar"><i class="fa fa-check"></i><b>3.1.1</b> Components of the Grammar</a></li>
<li class="chapter" data-level="3.1.2" data-path="viz.html"><a href="viz.html#gapminder"><i class="fa fa-check"></i><b>3.1.2</b> Gapminder data</a></li>
<li class="chapter" data-level="3.1.3" data-path="viz.html"><a href="viz.html#other-components"><i class="fa fa-check"></i><b>3.1.3</b> Other components</a></li>
<li class="chapter" data-level="3.1.4" data-path="viz.html"><a href="viz.html#ggplot2-package"><i class="fa fa-check"></i><b>3.1.4</b> ggplot2 package</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="viz.html"><a href="viz.html#FiveNG"><i class="fa fa-check"></i><b>3.2</b> Three Important Graphs -</a></li>
<li class="chapter" data-level="3.3" data-path="viz.html"><a href="viz.html#scatterplots"><i class="fa fa-check"></i><b>3.3</b> Scatterplots</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="viz.html"><a href="viz.html#geompoint"><i class="fa fa-check"></i><b>3.3.1</b> Scatterplots via geom_point</a></li>
<li class="chapter" data-level="3.3.2" data-path="viz.html"><a href="viz.html#overplotting"><i class="fa fa-check"></i><b>3.3.2</b> Over-plotting</a></li>
<li class="chapter" data-level="3.3.3" data-path="viz.html"><a href="viz.html#summary"><i class="fa fa-check"></i><b>3.3.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="viz.html"><a href="viz.html#histograms"><i class="fa fa-check"></i><b>3.4</b> Histograms</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="viz.html"><a href="viz.html#geomhistogram"><i class="fa fa-check"></i><b>3.4.1</b> Histograms via geom_histogram</a></li>
<li class="chapter" data-level="3.4.2" data-path="viz.html"><a href="viz.html#adjustbins"><i class="fa fa-check"></i><b>3.4.2</b> Adjusting the bins</a></li>
<li class="chapter" data-level="3.4.3" data-path="viz.html"><a href="viz.html#summary-1"><i class="fa fa-check"></i><b>3.4.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="viz.html"><a href="viz.html#geombar"><i class="fa fa-check"></i><b>3.5</b> Barplots</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="viz.html"><a href="viz.html#barplots-via-geom_bar-or-geom_col"><i class="fa fa-check"></i><b>3.5.1</b> Barplots via geom_bar or geom_col</a></li>
<li class="chapter" data-level="3.5.2" data-path="viz.html"><a href="viz.html#summary-2"><i class="fa fa-check"></i><b>3.5.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="viz.html"><a href="viz.html#conclusion-1"><i class="fa fa-check"></i><b>3.6</b> Conclusion</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="viz.html"><a href="viz.html#summary-table"><i class="fa fa-check"></i><b>3.6.1</b> Summary table</a></li>
<li class="chapter" data-level="3.6.2" data-path="viz.html"><a href="viz.html#argument-specification"><i class="fa fa-check"></i><b>3.6.2</b> Argument specification</a></li>
<li class="chapter" data-level="3.6.3" data-path="viz.html"><a href="viz.html#additional-resources-1"><i class="fa fa-check"></i><b>3.6.3</b> Additional resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="wrangling.html"><a href="wrangling.html"><i class="fa fa-check"></i><b>4</b> Data Wrangling</a>
<ul>
<li class="chapter" data-level="" data-path="wrangling.html"><a href="wrangling.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="4.1" data-path="wrangling.html"><a href="wrangling.html#piping"><i class="fa fa-check"></i><b>4.1</b> The pipe operator: <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.2" data-path="wrangling.html"><a href="wrangling.html#filter"><i class="fa fa-check"></i><b>4.2</b> <code>filter</code> rows</a></li>
<li class="chapter" data-level="4.3" data-path="wrangling.html"><a href="wrangling.html#mutate"><i class="fa fa-check"></i><b>4.3</b> <code>mutate</code> existing variables</a></li>
<li class="chapter" data-level="4.4" data-path="wrangling.html"><a href="wrangling.html#other-verbs"><i class="fa fa-check"></i><b>4.4</b> Other verbs</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="wrangling.html"><a href="wrangling.html#select"><i class="fa fa-check"></i><b>4.4.1</b> <code>select</code> variables</a></li>
<li class="chapter" data-level="4.4.2" data-path="wrangling.html"><a href="wrangling.html#rename"><i class="fa fa-check"></i><b>4.4.2</b> <code>rename</code> variables</a></li>
<li class="chapter" data-level="4.4.3" data-path="wrangling.html"><a href="wrangling.html#top_n-values-of-a-variable"><i class="fa fa-check"></i><b>4.4.3</b> <code>top_n</code> values of a variable</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="wrangling.html"><a href="wrangling.html#conclusion-2"><i class="fa fa-check"></i><b>4.5</b> Conclusion</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="wrangling.html"><a href="wrangling.html#additional-resources-2"><i class="fa fa-check"></i><b>4.5.1</b> Additional resources</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendixA.html"><a href="appendixA.html"><i class="fa fa-check"></i><b>A</b> Statistical Background</a>
<ul>
<li class="chapter" data-level="A.1" data-path="appendixA.html"><a href="appendixA.html#basic-statistical-terms"><i class="fa fa-check"></i><b>A.1</b> Basic statistical terms</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="appendixA.html"><a href="appendixA.html#mean"><i class="fa fa-check"></i><b>A.1.1</b> Mean</a></li>
<li class="chapter" data-level="A.1.2" data-path="appendixA.html"><a href="appendixA.html#median"><i class="fa fa-check"></i><b>A.1.2</b> Median</a></li>
<li class="chapter" data-level="A.1.3" data-path="appendixA.html"><a href="appendixA.html#standard-deviation"><i class="fa fa-check"></i><b>A.1.3</b> Standard deviation</a></li>
<li class="chapter" data-level="A.1.4" data-path="appendixA.html"><a href="appendixA.html#five-number-summary"><i class="fa fa-check"></i><b>A.1.4</b> Five-number summary</a></li>
<li class="chapter" data-level="A.1.5" data-path="appendixA.html"><a href="appendixA.html#appPercentiles"><i class="fa fa-check"></i><b>A.1.5</b> Percentiles or rank</a></li>
<li class="chapter" data-level="A.1.6" data-path="appendixA.html"><a href="appendixA.html#appDistributions"><i class="fa fa-check"></i><b>A.1.6</b> Distribution</a></li>
<li class="chapter" data-level="A.1.7" data-path="appendixA.html"><a href="appendixA.html#outliers"><i class="fa fa-check"></i><b>A.1.7</b> Outliers</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Projects</b></span></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html"><i class="fa fa-check"></i>Project 1</a>
<ul>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#stories-from-the-atlas-describing-data-using-maps-regressions-and-correlations"><i class="fa fa-check"></i>Stories from the Atlas: Describing Data using Maps, Regressions, and Correlations</a></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#instructions"><i class="fa fa-check"></i>Instructions</a>
<ul>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#specific-questions-to-address-in-your-narrative"><i class="fa fa-check"></i>Specific questions to address in your narrative</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#data-description"><i class="fa fa-check"></i>Data Description</a></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#cheatsheetproject1"><i class="fa fa-check"></i>Cheatsheat commands</a>
<ul>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#unweighted-summary-statistics"><i class="fa fa-check"></i>Unweighted summary statistics</a></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#load-package"><i class="fa fa-check"></i>Load package</a></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#weighted-summary-statistics"><i class="fa fa-check"></i>Weighted summary statistics</a></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#subset-observations"><i class="fa fa-check"></i>Subset observations</a></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#standardize-variables"><i class="fa fa-check"></i>Standardize variables</a></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#run-regression"><i class="fa fa-check"></i>Run regression</a></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#how-to-read-the-regression-output"><i class="fa fa-check"></i>How to read the regression output?</a></li>
<li class="chapter" data-level="" data-path="project1.html"><a href="project1.html#plotting-the-linear-relationship"><i class="fa fa-check"></i>Plotting the linear relationship</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.jmorenomedina.com/" target="blank">By Jon Moreno-Medina</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Economics of Public and Social Issues</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="project1" class="section level1 unnumbered hasAnchor">
<h1>Project 1<a href="project1.html#project1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="stories-from-the-atlas-describing-data-using-maps-regressions-and-correlations" class="section level2 unnumbered hasAnchor">
<h2>Stories from the Atlas: Describing Data using Maps, Regressions, and Correlations<a href="project1.html#stories-from-the-atlas-describing-data-using-maps-regressions-and-correlations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><strong>Posted</strong>: Friday, August 25, 2022</p></li>
<li><p><strong>Part 1</strong>: Due at midnight on Wednesday, September 7, 2022</p></li>
<li><p><strong>Part 2</strong>: Due at midnight on Thursday, September 9, 2022</p></li>
</ul>
<p>The <a href="https://www.opportunityatlas.org/">Opportunity Atlas</a> is a freely available interactive mapping tool that traces the roots of outcomes such as poverty and incarceration back to the neighborhoods in which children grew up.</p>
<p>Policymakers, journalists, and the public have begun to explore the Opportunity Atlas, casting new light on the geography of upward mobility in communities across the country. As an example, see Jasmine Garsd’s <a href="https://www.npr.org/2018/10/04/654085265/the-american-dream-one-block-can-make-all-the-difference">analysis</a> for the New York City neighborhood of Brownsville in Brooklyn.</p>
<p>In this first empirical project, you will use the Opportunity Atlas mapping tool and the underlying data to describe equality of opportunity in your hometown and across the United States. (If you grew up outside the United States, you may select a community in which you have spent some time, such as San Antonio, TX.)</p>
<p>The end product will be a short narrative (or story) in which you describe what you have learned from the Atlas, in which you will weave in the narrative along with the data analysis. Below is a list of specific analyses and questions that your narrative must address. The document should contain references, graphs, and maps.</p>
<p>This project focuses on the following methods for descriptive data analysis. (The later empirical projects you will do in this class will be focused on causal inference and prediction).</p>
<ol style="list-style-type: decimal">
<li><p>Data visualization. Maps are a powerful way to present descriptive statistics for data with a geographic component. You will use maps to display upward mobility statistics for the Census tracts in your hometown.</p></li>
<li><p>Regression and correlation analysis. You will use linear regressions and correlation coefficients to quantify the statistical relationship between upward mobility and potential explanatory variables.</p></li>
</ol>
<p>The R data file that you will use in this assignment, <code>atlas.rds</code>, contains an extract of the Opportunity Atlas data. It is also merged on several other variables, which you may use for the correlational analysis.</p>
</div>
<div id="instructions" class="section level2 unnumbered hasAnchor">
<h2>Instructions<a href="project1.html#instructions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You will work on RStudio Cloud for this project. Write the narrative within a RMarkdown file in the <strong>project1</strong> tab in RStudio Cloud.</p>
<p>The deliverables for Part 1 and Part 2 are the following:</p>
<ol style="list-style-type: decimal">
<li><strong>Part 1</strong>: points 1 to 5</li>
<li><strong>Part 2</strong>: points 1 to 10 - this should include any feedback you received for Part 1</li>
</ol>
<blockquote>
<p>Notice that Part 2 includes Part 1</p>
</blockquote>
<p>The Markdown file is where you will write your narrative, run all your analysis, and the output of each code block should be visible. The output should include references, graphs, maps, and tables.</p>
<div id="specific-questions-to-address-in-your-narrative" class="section level3 unnumbered hasAnchor">
<h3>Specific questions to address in your narrative<a href="project1.html#specific-questions-to-address-in-your-narrative" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Start by looking up the city where you grew up on the Opportunity Atlas. Zoom in to the Census tracts around your home.<br />
Figure 1 in your narrative should be a map of the Census tracts in your hometown from the Opportunity Atlas. Examples for Milwaukee, WI (where Professor Chetty grew up) and Los Angeles, CA (discussed in Lecture 1) are shown on the next page. The text of your narrative should describe what you see, and what data are being visualized.</li>
</ol>
<p>Examine the patterns for a number of different groups (e.g., lowest income children, high income children) and outcomes (e.g., earnings in adulthood, incarceration rates). Only choose one or two of these to include in your narrative.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>(To answer this question, read the Opportunity Atlas manuscript) What period do the data you are analyzing come from? Are you concerned that the neighborhoods you are studying may have changed for kids now growing up there? What evidence do Chetty et al. (2018) provide suggesting that such changes are or are not important? What type of data could you use to test whether your neighborhood has changed in recent years?</p></li>
<li><p>Now turn to the <code>atlas.rds</code> data set. How does average upward mobility, pooling races and genders, for children with parents at the 25th percentile (<code>kfr pooled_p25</code>) in your home Census tract compare to mean (population-weighted, using count_pooled) upward mobility in your state and in the U.S. overall? Do kids where you grew up have better or worse chances of climbing the income ladder than the average child in America?</p></li>
</ol>
<p><strong>Hint</strong>: The Opportunity Atlas website will give you the tract, county, and state FIPS codes for your home address. For example, searching for “Lynwood Road, Verona, New Jersey” will display Tract 34013021000, Verona, NJ. The first two digits refer to the state code, the next three digits refer to the county code, and the last 6 digits refer to the tract code. In R, you can list these observations with the function <code>filter()</code> as follows (assuming you called the data as atlas as in Table 2). If you only want to see <code>kfr_pooled_p25</code>:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="project1.html#cb51-1" aria-hidden="true" tabindex="-1"></a>atlas_lynwood<span class="ot">&lt;-</span>atlas<span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="project1.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="dv">34</span> <span class="sc">&amp;</span> county <span class="sc">==</span> <span class="dv">013</span> <span class="sc">&amp;</span> tract <span class="sc">==</span> <span class="dv">021000</span>)</span>
<span id="cb51-3"><a href="project1.html#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="project1.html#cb51-4" aria-hidden="true" tabindex="-1"></a>atlas_lynwood<span class="sc">%&gt;%</span></span>
<span id="cb51-5"><a href="project1.html#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(kfr_pooled_p25)</span></code></pre></div>
<p>Or to see all the variables for that tract:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="project1.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(atlas_lynwood)</span></code></pre></div>
<p>See the cheat-sheet Section @ref(#cheatsheetproject1) below for further help.</p>
<ol start="4" style="list-style-type: decimal">
<li><p>What is the standard deviation of upward mobility (population-weighted) in your home county? Is it larger or smaller than the standard deviation across tracts in your state? Across tracts in the country? What do you learn from these comparisons?</p></li>
<li><p>Now let’s turn to downward mobility: repeat questions (3) and (4) looking at children who start with parents at the 75th and 100th percentiles. How do the patterns differ?</p></li>
<li><p>Using a linear regression, estimate the relationship between outcomes of children at the 25th and 75th percentile for the Census tracts in your home county. Generate a scatter plot to visualize this regression. Do areas where children from low-income families do well generally have better outcomes for those from high-income families, too?</p></li>
<li><p>Next, examine whether the patterns you have looked at above are similar by race. If there is not enough racial heterogeneity in the area of interest (i.e., data is missing for most racial groups), then choose a different area to examine.</p></li>
<li><p>Using the Census tracts in your home county, can you identify any covariates which help explain some of the patterns you have identified above? Some examples of covariates you might examine include housing prices, income inequality, fraction of children with single parents, job density, etc. For 2 or 3 of these, report estimated correlation coefficients along with their 95% confidence intervals.</p></li>
<li><p>Open question: formulate a hypothesis for why you see the variation in upward mobility for children who grew up in the Census tracts near your home and provide correlational evidence testing that hypothesis.</p></li>
</ol>
<p>For this question, many covariates have been provided to you in the atlas.rds file, which are described under the “Characteristics of Census tracts” header in Table 1.</p>
<ol start="10" style="list-style-type: decimal">
<li>Putting together all the analyses you did above, what have you learned about the determinants of economic opportunity where you grew up? Identify one or two key lessons or takeaways that you might discuss with a policymaker or journalist if asked about your hometown. Mention any important caveats to your conclusions; for example, can we conclude that the variable you identified as a key predictor in the question above has a causal effect (i.e., changing it would change upward mobility) based on that analysis? Why or why not?</li>
</ol>
<hr />
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-53"></span>
<img src="images/milwaukee_mob.png" alt="Household Income in Adulthood for Children Raised in Low-Income Households in Milwaukee, WI" width="90%" />
<p class="caption">
Figure A.1: Household Income in Adulthood for Children Raised in Low-Income Households in Milwaukee, WI
</p>
</div>
<p><em>Notes</em>: This figure shows household income at ages 31-37 for low income children who grew up in Census tracts near Milwaukee, WI. The image was saved from www.opportunity-atlas.org by first searching for “Milwaukee, WI” and then clicking on the “download as image” button.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-54"></span>
<img src="images/la_incratesblack.png" alt="Incarceration Rates for Black Men Raised in the Lowest-Income Households in Los Angeles, CA" width="90%" />
<p class="caption">
Figure A.2: Incarceration Rates for Black Men Raised in the Lowest-Income Households in Los Angeles, CA
</p>
</div>
<p><em>Notes</em>: This figure is from the non-technical summary of the Opportunity Atlas and was discussed in Lecture 1.</p>
<hr />
</div>
</div>
<div id="data-description" class="section level2 unnumbered hasAnchor">
<h2>Data Description<a href="project1.html#data-description" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The data consist of n = 73,278 U.S. Census tracts. For more details on the construction of the variables included in this data set, please see Chetty, Raj, John Friedman, Nathaniel Hendren, Maggie R. Jones, and Sonya R. Porter. 2018. “The Opportunity Atlas: Mapping the Childhood Roots of Social Mobility.” NBER Working Paper No. 25147.</p>
<p><strong>Table 1</strong></p>
<p>Definitions of Variables in <code>atlas.rds</code></p>
<table style="width:100%;">
<colgroup>
<col width="39%" />
<col width="54%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Variable name</strong></th>
<th><strong>Label</strong></th>
<th><strong>Obs.</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>(1)</strong></td>
<td><strong>(2)</strong></td>
<td><strong>(3)</strong></td>
</tr>
<tr class="even">
<td><strong>1. Geographic identifiers</strong></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>tract</td>
<td>Tract FIPS Code (6-digit) 2010</td>
<td>73,278</td>
</tr>
<tr class="even">
<td>county</td>
<td>County FIPS Code (3-digit)</td>
<td>73,278</td>
</tr>
<tr class="odd">
<td>state</td>
<td>State FIPS Code (2-digit)</td>
<td>73,278</td>
</tr>
<tr class="even">
<td>cz</td>
<td>Commuting Zone Identifier (1990 Definition)</td>
<td>72,473</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><strong>2. Characteristics of Census tracts</strong></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>hhinc_mean2000</td>
<td>Mean Household Income 2000</td>
<td>72,302</td>
</tr>
<tr class="even">
<td>mean_commutetime2000</td>
<td>Average Commute Time of Working Adults in 2000</td>
<td>72,313</td>
</tr>
<tr class="odd">
<td>frac_coll_plus2010</td>
<td>Fraction of Residents with a College Degree or More in 2010</td>
<td>72,993</td>
</tr>
<tr class="even">
<td>frac_coll_plus2000</td>
<td>Fraction of Residents with a College Degree or More in 2000</td>
<td>72,343</td>
</tr>
<tr class="odd">
<td>foreign_share2010</td>
<td>Share of Population Born Outside the U.S.</td>
<td>72,279</td>
</tr>
<tr class="even">
<td>med_hhinc2016</td>
<td>Median Household Income in 2016</td>
<td>72,763</td>
</tr>
<tr class="odd">
<td>med_hhinc1990</td>
<td>Median Household Income in 1999</td>
<td>72,313</td>
</tr>
<tr class="even">
<td>popdensity2000</td>
<td>Population Density (per square mile) in 2000</td>
<td>72,469</td>
</tr>
<tr class="odd">
<td>poor_share2010</td>
<td>Poverty Rate 2010</td>
<td>72,933</td>
</tr>
<tr class="even">
<td>poor_share2000</td>
<td>Poverty Rate 2000</td>
<td>72,315</td>
</tr>
<tr class="odd">
<td>poor_share1990</td>
<td>Poverty Rate 1990</td>
<td>72,323</td>
</tr>
<tr class="even">
<td>share_black2010</td>
<td>Share black 2010</td>
<td>73,111</td>
</tr>
<tr class="odd">
<td>share_hisp2010</td>
<td>Share Hispanic 2010</td>
<td>73,111</td>
</tr>
<tr class="even">
<td>share_asian2010</td>
<td>Share Asian 2010</td>
<td>71,945</td>
</tr>
<tr class="odd">
<td>share_black2000</td>
<td>Share black 2000</td>
<td>72,368</td>
</tr>
<tr class="even">
<td>share_white2000</td>
<td>Share white 2000</td>
<td>72,368</td>
</tr>
<tr class="odd">
<td>share_hisp2000</td>
<td>Share Hispanic 2000</td>
<td>72,368</td>
</tr>
<tr class="even">
<td>share_asian2000</td>
<td>Share Asian 2000</td>
<td>71,050</td>
</tr>
<tr class="odd">
<td>gsmn_math_g3_2013</td>
<td>Average School District Level Standardized Test Scores in 3rd Grade in 2013</td>
<td>72,090</td>
</tr>
<tr class="even">
<td>rent_twobed2015</td>
<td>Average Rent for Two-Bedroom Apartment in 2015</td>
<td>56,607</td>
</tr>
<tr class="odd">
<td>singleparent_share2010</td>
<td>Share of Single-Headed Households with Children 2010</td>
<td>72,564</td>
</tr>
<tr class="even">
<td>singleparent_share1990</td>
<td>Share of Single-Headed Households with Children 1990</td>
<td>72,196</td>
</tr>
<tr class="odd">
<td>singleparent_share2000</td>
<td>Share of Single-Headed Households with Children 2000</td>
<td>72,285</td>
</tr>
<tr class="even">
<td>traveltime15_2010</td>
<td>Share of Working Adults w/ Commute Time of 15 Minutes Or Less in 2010</td>
<td>72,939</td>
</tr>
<tr class="odd">
<td>emp2000</td>
<td>Employment Rate 2000</td>
<td>72,344</td>
</tr>
<tr class="even">
<td>mail_return_rate2010</td>
<td>Census Form Rate Return Rate 2010</td>
<td>72,547</td>
</tr>
<tr class="odd">
<td>ln_wage_growth_hs_grad</td>
<td>Log wage growth for HS Grad., 2005-2014</td>
<td>51,635</td>
</tr>
<tr class="even">
<td>jobs_total_5mi_2015</td>
<td>Number of Primary Jobs within 5 Miles in 2015</td>
<td>72,311</td>
</tr>
<tr class="odd">
<td>jobs_highpay_5mi_2015</td>
<td>Number of High-Paying (&gt;USD40,000 annually) Jobs within 5 Miles in 2015</td>
<td>72,311</td>
</tr>
<tr class="even">
<td>nonwhite_share2010</td>
<td>Share of People who are not white 2010</td>
<td>73,111</td>
</tr>
<tr class="odd">
<td>popdensity2010</td>
<td>Population Density (per square mile) in 2010</td>
<td>73,194</td>
</tr>
<tr class="even">
<td>ann_avg_job_growth_2004_2013</td>
<td>Average Annual Job Growth Rate 2004-2013</td>
<td>70,664</td>
</tr>
<tr class="odd">
<td>job_density_2013</td>
<td>Job Density (in square miles) in 2013</td>
<td>72,463</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>3. Measures of Upward Mobility from the Opportunity Atlas</strong></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>kfr_pooled_p25</td>
<td>Household income ($) at age 31-37 for children with parents at the 25th percentile of the national income distribution</td>
<td>72,011</td>
</tr>
<tr class="odd">
<td>kfr_pooled_p75</td>
<td>Household income ($) at age 31-37 for children with parents at the 75th percentile of the national income distribution</td>
<td>72,012</td>
</tr>
<tr class="even">
<td>kfr_pooled_p100</td>
<td>Household income ($) at age 31-37 for children with parents at the 100th percentile of the national income distribution</td>
<td>71,968</td>
</tr>
<tr class="odd">
<td>kfr_natam_p25</td>
<td>Household income ($) at age 31-37 for Native American children with parents at the 25th percentile of the national income distribution</td>
<td>1,733</td>
</tr>
<tr class="even">
<td>kfr_natam_p75</td>
<td>Household income ($) at age 31-37 for Native American children with parents at the 75th percentile of the national income distribution</td>
<td>1,728</td>
</tr>
<tr class="odd">
<td>kfr_natam_p100</td>
<td>Household income ($) at age 31-37 for Native American children with parents at the 100th percentile of the national income distribution</td>
<td>1,594</td>
</tr>
<tr class="even">
<td>kfr_asian_p25</td>
<td>Household income ($) at age 31-37 for Asian children with parents at the 25th percentile of the national income distribution</td>
<td>15,434</td>
</tr>
<tr class="odd">
<td>kfr_asian_p75</td>
<td>Household income ($) at age 31-37 for Asian children with parents at the 75th percentile of the national income distribution</td>
<td>15,360</td>
</tr>
<tr class="even">
<td>kfr_asian_p100</td>
<td>Household income ($) at age 31-37 for Asian children with parents at the 100th percentile of the national income distribution</td>
<td>13,480</td>
</tr>
<tr class="odd">
<td>kfr_black_p25</td>
<td>Household income ($) at age 31-37 for Black children with parents at the 25th percentile of the national income distribution</td>
<td>34,086</td>
</tr>
<tr class="even">
<td>kfr_black_p75</td>
<td>Household income ($) at age 31-37 for Black children with parents at the 75th percentile of the national income distribution</td>
<td>34,049</td>
</tr>
<tr class="odd">
<td>kfr_black_p100</td>
<td>Household income ($) at age 31-37 for Black children with parents at the 100th percentile of the national income distribution</td>
<td>32,536</td>
</tr>
<tr class="even">
<td>kfr_hisp_p25</td>
<td>Household income ($) at age 31-37 for Hispanic children with parents at the 25th percentile of the national income distribution</td>
<td>37,611</td>
</tr>
<tr class="odd">
<td>kfr_hisp_p75</td>
<td>Household income ($) at age 31-37 for Hispanic children with parents at the 75th percentile of the national income distribution</td>
<td>37,579</td>
</tr>
<tr class="even">
<td>kfr_hisp_p100</td>
<td>Household income ($) at age 31-37 for Hispanic children with parents at the 100th percentile of the national income distribution</td>
<td>35,987</td>
</tr>
<tr class="odd">
<td>kfr_white_p25</td>
<td>Household income ($) at age 31-37 for white children with parents at the 25th percentile of the national income distribution</td>
<td>67,978</td>
</tr>
<tr class="even">
<td>kfr_white_p75</td>
<td>Household income ($) at age 31-37 for white children with parents at the 75th percentile of the national income distribution</td>
<td>67,968</td>
</tr>
<tr class="odd">
<td>kfr_white_p100</td>
<td>Household income ($) at age 31-37 for white children with parents at the 100th percentile of the national income distribution</td>
<td>67,627</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>3. Counts of number of children under 18 in 2000 (to calculate weighted summary statistics)</strong></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>count_pooled</td>
<td>Count of all children</td>
<td>72,451</td>
</tr>
<tr class="odd">
<td>count_white</td>
<td>Count of White children</td>
<td>72,451</td>
</tr>
<tr class="even">
<td>count_black</td>
<td>Count of Black children</td>
<td>72,451</td>
</tr>
<tr class="odd">
<td>count_asian</td>
<td>Count of Asian children</td>
<td>72,451</td>
</tr>
<tr class="even">
<td>count_hisp</td>
<td>Count of Hispanic children</td>
<td>72,451</td>
</tr>
<tr class="odd">
<td>count_natam</td>
<td>Count of Native American children</td>
<td>72,451</td>
</tr>
</tbody>
</table>
<hr />
</div>
<div id="cheatsheetproject1" class="section level2 unnumbered hasAnchor">
<h2>Cheatsheat commands<a href="project1.html#cheatsheetproject1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>R command Description</strong></p>
<p>Here I present a summary of the commands you could use to work on this project. There are two important issues you should keep in mind while reading this:</p>
<ol style="list-style-type: decimal">
<li>Notice that whenever you see <code>yvar</code> this is <strong>not a real variable</strong>. It is only a place holder for the appropriate variable that you decide to analyze or use. For example, if you want to see the mean across neighborhoods of the average household income as measured in 2000, you would not do <code>mean(atlas$yvar, na.rm=TRUE)</code> but <code>mean(atlas$hhinc_mean2000, na.rm=TRUE)</code>.</li>
</ol>
<div class="blackbox">
<div class="center">
<p><strong>Important!</strong></p>
</div>
<p><strong>‘yvar’</strong> is not a real variable. You should replace it for the appropriate variable in your code.</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>The data <code>atlas</code> has missing information for <em>some</em> neighborhoods for <em>some</em> variables. These are called <code>NA</code> or missing. Most R functions do not like that you include missings in the function, because R does not know what to do with that. What is <code>5+NA</code> ? NA !! So, for many of these functions, we will <strong>explicitely tell R to ignore NAs</strong>. That is what the option <code>na.rm=TRUE</code> does. It does not not exist for every function, but it does for most of the ones we will use here.</li>
</ol>
<div class="blackbox">
<div class="center">
<p><strong>Important!</strong></p>
</div>
<p>Careful with missing values (also called <strong>‘NA’</strong>)! We will use <em>‘na.rm=TRUE’</em> as an option for several functions to tell R to ignore the missings.</p>
</div>
<div id="unweighted-summary-statistics" class="section level3 unnumbered hasAnchor">
<h3>Unweighted summary statistics<a href="project1.html#unweighted-summary-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="project1.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(atlas<span class="sc">$</span>yvar)</span>
<span id="cb53-2"><a href="project1.html#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(atlas<span class="sc">$</span>yvar, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb53-3"><a href="project1.html#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(atlas<span class="sc">$</span>yvar, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="load-package" class="section level3 unnumbered hasAnchor">
<h3>Load package<a href="project1.html#load-package" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you wanted to install the package <code>Hmisc</code> (which you will need), run:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="project1.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span></code></pre></div>
</div>
<div id="weighted-summary-statistics" class="section level3 unnumbered hasAnchor">
<h3>Weighted summary statistics<a href="project1.html#weighted-summary-statistics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can weight means or other statistics. In our case, we want to use the <strong>population weighted</strong> statistics in several cases. That is, we want to put more weight on the value of a tract in which more people live than in another with lower population. Recall that the population variable is <code>count_pooled</code>.</p>
<ol style="list-style-type: decimal">
<li>Weighted mean:</li>
</ol>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="project1.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wtd.mean</span>(atlas<span class="sc">$</span>yvar, atlas<span class="sc">$</span>count_pooled)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Weighted standard deviation:</li>
</ol>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="project1.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="fu">wtd.var</span>(atlas<span class="sc">$</span>yvar, atlas<span class="sc">$</span>count_pooled))</span></code></pre></div>
</div>
<div id="subset-observations" class="section level3 unnumbered hasAnchor">
<h3>Subset observations<a href="project1.html#subset-observations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>State level:</li>
</ol>
<p>If you want to select a subset of observations, you can add the rule for selecting those observations, and the <code>filter</code> function. Here we subset the observations for the State of Wisconsin, and called the resulting dataset <code>atlas_wisconsin</code>.</p>
<ol start="2" style="list-style-type: decimal">
<li>County level:</li>
</ol>
<p>We can do the same but now for a specific county, adding an extra rule after a comma <code>,</code> or <code>&amp;</code>. Here we subset the observations for Milwaukee County in Wisconsin:</p>
</div>
<div id="standardize-variables" class="section level3 unnumbered hasAnchor">
<h3>Standardize variables<a href="project1.html#standardize-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can standardize variables by substracting the mean and dividing by the standard deviation. Let us say that you want to standardize only considering the variables in Milwaukee, then you can do this:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="project1.html#cb57-1" aria-hidden="true" tabindex="-1"></a>atlas_milwaukee<span class="ot">&lt;-</span> atlas_milwaukee <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="project1.html#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x_std=</span>(xvar <span class="sc">-</span> <span class="fu">mean</span>(atlas_milwaukee<span class="sc">$</span>xvar, <span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">/</span><span class="fu">sd</span>(atlas_milwaukee<span class="sc">$</span>xvar, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code></pre></div>
<p>As an example, let’s say you want to standardize both the measure of mobility and the annual job growth for the data in Wisconsin:</p>
</div>
<div id="run-regression" class="section level3 unnumbered hasAnchor">
<h3>Run regression<a href="project1.html#run-regression" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>Simple linear regression</li>
</ol>
<p>Let’s say you want to run a simple regression of variable <code>yvar</code> on variable <code>xvar1</code> for the county of Milwaukee. We will save the results of that regression in an object call <code>mod1</code> (we could give it any name). Then you would do this:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="project1.html#cb58-1" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(yvar<span class="sc">~</span>xvar1, <span class="at">data =</span> atlas_milwaukee)</span></code></pre></div>
<p>To see what the outcome of the regression is, you would use the function <code>summary</code> and apply it to our new object <code>mod1</code>, like this:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="project1.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod1)</span></code></pre></div>
<p>As an example, we could regress the mobility of children from parents in the 25th percentile (<code>kfr_pooled_p25</code>) on the average annual job growth rate between 2004 and 2013 (<code>ann_avg_job_growth_2004_2013</code>). To do that, we would run:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="project1.html#cb60-1" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(kfr_pooled_p25<span class="sc">~</span>ann_avg_job_growth_2004_2013, <span class="at">data =</span> atlas_milwaukee)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Multivariate linear regression</li>
</ol>
<p>You might want to understand the relationship between <code>yvar</code> and variable <code>xvar1</code> <strong>while holding fixed</strong> another variable <code>xvar2</code> for neighborhoods only in Milwaukee. You can do this:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="project1.html#cb61-1" aria-hidden="true" tabindex="-1"></a>mod2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(yvar<span class="sc">~</span>xvar1<span class="sc">+</span>xvar2 <span class="sc">+</span> xvar3, <span class="at">data =</span> atlas_milwaukee)</span></code></pre></div>
</div>
<div id="how-to-read-the-regression-output" class="section level3 unnumbered hasAnchor">
<h3>How to read the regression output?<a href="project1.html#how-to-read-the-regression-output" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To simplify the interpretation, let’s run a regression where you use the standardize both the measure of mobility and the annual job growth for the data in Wisconsin:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="project1.html#cb62-1" aria-hidden="true" tabindex="-1"></a>mod3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(kfr_pooled_p25_std <span class="sc">~</span> ann_avg_job_growth_2004_2013_std, <span class="at">data =</span> atlas_wisconsin)</span>
<span id="cb62-2"><a href="project1.html#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod3)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = kfr_pooled_p25_std ~ ann_avg_job_growth_2004_2013_std, 
##     data = atlas_wisconsin)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -2.829 -0.569  0.035  0.684  5.128 
## 
## Coefficients:
##                                     Estimate  Std. Error t value Pr(&gt;|t|)  
## (Intercept)                      -0.00000978  0.02681564    0.00    1.000  
## ann_avg_job_growth_2004_2013_std -0.05131843  0.02679889   -1.91    0.056 .
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.999 on 1386 degrees of freedom
##   (6 observations deleted due to missingness)
## Multiple R-squared:  0.00264,    Adjusted R-squared:  0.00192 
## F-statistic: 3.67 on 1 and 1386 DF,  p-value: 0.0557</code></pre>
</div>
<div id="plotting-the-linear-relationship" class="section level3 unnumbered hasAnchor">
<h3>Plotting the linear relationship<a href="project1.html#plotting-the-linear-relationship" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You need to load the <code>ggplot2</code> package (which should be installed already).</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="project1.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<p>Suppose you want to visually see the linear relationship between two variables in the <code>atlas_milwaukee</code> dataset that we filtered above. Then, you can do this:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="project1.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> atlas_milwaukee) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> xvar1, <span class="at">y =</span> yvar)) <span class="sc">+</span> </span>
<span id="cb65-2"><a href="project1.html#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">x =</span> xvar1, <span class="at">y =</span> yvar), <span class="at">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="at">se =</span> F)</span></code></pre></div>
<p>The function <code>geom_smooth()</code> adds the line that you calculated above for <code>mod1</code>, where you ran <code>mod1 &lt;- lm(yvar~xvar1, data = atlas_milwaukee)</code></p>

</div>
</div>
</div>






            </section>

          </div>
        </div>
      </div>
<a href="appendixA.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/project1.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
